<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†å‘˜URLè·¯å¾„éªŒè¯æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .test-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #4facfe;
        }
        
        .test-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .url-display {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            margin: 20px 0;
            word-break: break-all;
        }
        
        .url-part {
            padding: 5px 10px;
            margin: 2px;
            border-radius: 5px;
            display: inline-block;
        }
        
        .url-part.protocol {
            background: rgba(59, 130, 246, 0.2);
        }
        
        .url-part.domain {
            background: rgba(34, 197, 94, 0.2);
        }
        
        .url-part.port {
            background: rgba(245, 158, 11, 0.2);
        }
        
        .url-part.path {
            background: rgba(239, 68, 68, 0.2);
            font-weight: bold;
        }
        
        .verification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .verification-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .verification-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .verification-card.success {
            border-color: #28a745;
        }
        
        .verification-card.warning {
            border-color: #ffc107;
        }
        
        .verification-card.danger {
            border-color: #dc3545;
        }
        
        .verification-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .verification-result {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .verification-result.success {
            color: #28a745;
        }
        
        .verification-result.warning {
            color: #ffc107;
        }
        
        .verification-result.danger {
            color: #dc3545;
        }
        
        .verification-detail {
            color: #666;
            font-size: 0.9em;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn.success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .btn.danger {
            background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
        }
        
        .test-results {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f1f3f4;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 500;
            color: #333;
        }
        
        .result-value {
            font-weight: bold;
            padding: 8px 20px;
            border-radius: 20px;
            color: white;
        }
        
        .result-value.success {
            background: #28a745;
        }
        
        .result-value.warning {
            background: #ffc107;
            color: #333;
        }
        
        .result-value.danger {
            background: #dc3545;
        }
        
        .log-container {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
        }
        
        .log-entry.info {
            background: rgba(59, 130, 246, 0.1);
        }
        
        .log-entry.success {
            background: rgba(34, 197, 94, 0.1);
        }
        
        .log-entry.warning {
            background: rgba(245, 158, 11, 0.1);
        }
        
        .log-entry.error {
            background: rgba(239, 68, 68, 0.1);
        }
        
        .timestamp {
            color: #9ca3af;
            font-size: 12px;
        }
        
        .route-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .route-info h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .route-info code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”— ç®¡ç†å‘˜URLè·¯å¾„éªŒè¯æµ‹è¯•</h1>
            <p>éªŒè¯ç®¡ç†å‘˜ç™»å½•åè·³è½¬URLæ˜¯å¦åŒ…å«/adminè·¯å¾„æ ‡è¯†</p>
        </div>
        
        <div class="content">
            <!-- å½“å‰URLæ˜¾ç¤º -->
            <div class="test-section">
                <h2>ğŸ“ å½“å‰URLåˆ†æ</h2>
                <div class="url-display" id="currentUrl">
                    æ­£åœ¨è·å–å½“å‰URL...
                </div>
                <div class="verification-grid">
                    <div class="verification-card" id="protocolCard">
                        <div class="verification-title">åè®®éªŒè¯</div>
                        <div class="verification-result" id="protocolResult">--</div>
                        <div class="verification-detail" id="protocolDetail">æ£€æŸ¥æ˜¯å¦ä½¿ç”¨HTTP/HTTPSåè®®</div>
                    </div>
                    <div class="verification-card" id="domainCard">
                        <div class="verification-title">åŸŸåéªŒè¯</div>
                        <div class="verification-result" id="domainResult">--</div>
                        <div class="verification-detail" id="domainDetail">æ£€æŸ¥åŸŸåæ˜¯å¦ä¸ºlocalhost</div>
                    </div>
                    <div class="verification-card" id="portCard">
                        <div class="verification-title">ç«¯å£éªŒè¯</div>
                        <div class="verification-result" id="portResult">--</div>
                        <div class="verification-detail" id="portDetail">æ£€æŸ¥ç«¯å£æ˜¯å¦ä¸º5173</div>
                    </div>
                    <div class="verification-card" id="pathCard">
                        <div class="verification-title">è·¯å¾„éªŒè¯</div>
                        <div class="verification-result" id="pathResult">--</div>
                        <div class="verification-detail" id="pathDetail">æ£€æŸ¥è·¯å¾„æ˜¯å¦åŒ…å«/admin</div>
                    </div>
                </div>
            </div>
            
            <!-- è·¯ç”±é…ç½®ä¿¡æ¯ -->
            <div class="test-section">
                <h2>âš™ï¸ è·¯ç”±é…ç½®éªŒè¯</h2>
                <div class="route-info">
                    <h4>ç®¡ç†å‘˜è·¯ç”±é…ç½®</h4>
                    <p><strong>è·¯å¾„:</strong> <code>/admin</code></p>
                    <p><strong>ç»„ä»¶:</strong> <code>Admin.vue</code></p>
                    <p><strong>æƒé™è¦æ±‚:</strong> <code>requiresAuth: true, requiresAdmin: true</code></p>
                    <p><strong>é¡µé¢æ ‡é¢˜:</strong> <code>ç®¡ç†å‘˜åå°</code></p>
                </div>
                
                <div class="route-info">
                    <h4>ç™»å½•è·³è½¬é€»è¾‘</h4>
                    <p><strong>ç®¡ç†å‘˜è·³è½¬:</strong> <code>router.push('/admin')</code></p>
                    <p><strong>æ™®é€šç”¨æˆ·è·³è½¬:</strong> <code>router.push('/')</code></p>
                    <p><strong>æƒé™æ£€æŸ¥:</strong> <code>AuthManager.isAdmin()</code></p>
                </div>
            </div>
            
            <!-- æµ‹è¯•æ§åˆ¶é¢æ¿ -->
            <div class="test-section">
                <h2>ğŸ® æµ‹è¯•æ§åˆ¶é¢æ¿</h2>
                <button class="btn success" onclick="verifyCurrentUrl()">
                    ğŸ” éªŒè¯å½“å‰URL
                </button>
                <button class="btn" onclick="simulateAdminLogin()">
                    ğŸ‘¤ æ¨¡æ‹Ÿç®¡ç†å‘˜ç™»å½•è·³è½¬
                </button>
                <button class="btn" onclick="testUrlPatterns()">
                    ğŸ§ª æµ‹è¯•URLæ¨¡å¼åŒ¹é…
                </button>
                <button class="btn danger" onclick="clearResults()">
                    ğŸ—‘ï¸ æ¸…é™¤ç»“æœ
                </button>
            </div>
            
            <!-- éªŒè¯ç»“æœ -->
            <div class="test-section">
                <h2>ğŸ“‹ éªŒè¯ç»“æœè¯¦æƒ…</h2>
                <div class="test-results" id="testResults">
                    <div class="result-item">
                        <span class="result-label">URLè·¯å¾„éªŒè¯</span>
                        <span class="result-value" id="urlPathStatus">æœªå¼€å§‹</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ç®¡ç†å‘˜è·¯å¾„è¦æ±‚</span>
                        <span class="result-value success">åŒ…å« /admin</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">è·¯ç”±é…ç½®çŠ¶æ€</span>
                        <span class="result-value success">å·²é…ç½®</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">æƒé™æ§åˆ¶çŠ¶æ€</span>
                        <span class="result-value success">å·²å¯ç”¨</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">è·³è½¬é€»è¾‘çŠ¶æ€</span>
                        <span class="result-value" id="redirectLogicStatus">å¾…éªŒè¯</span>
                    </div>
                </div>
            </div>
            
            <!-- è¯¦ç»†æ—¥å¿— -->
            <div class="test-section">
                <h2>ğŸ“ éªŒè¯æ—¥å¿—</h2>
                <div class="log-container" id="logContainer">
                    <div class="log-entry info">
                        <span class="timestamp">[ç³»ç»Ÿ]</span> URLè·¯å¾„éªŒè¯å·¥å…·å·²å°±ç»ªï¼Œç­‰å¾…å¼€å§‹éªŒè¯...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let verificationResults = [];
        
        // æ·»åŠ æ—¥å¿—
        function addLog(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.innerHTML = `<span class="timestamp">[${timestamp}]</span> ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        // æ›´æ–°éªŒè¯å¡ç‰‡
        function updateVerificationCard(cardId, result, detail, status) {
            const card = document.getElementById(cardId);
            const resultElement = document.getElementById(cardId.replace('Card', 'Result'));
            const detailElement = document.getElementById(cardId.replace('Card', 'Detail'));
            
            card.className = `verification-card ${status}`;
            resultElement.className = `verification-result ${status}`;
            resultElement.textContent = result;
            detailElement.textContent = detail;
        }
        
        // æ›´æ–°ç»“æœçŠ¶æ€
        function updateResultStatus(elementId, text, status) {
            const element = document.getElementById(elementId);
            element.textContent = text;
            element.className = `result-value ${status}`;
        }
        
        // éªŒè¯å½“å‰URL
        function verifyCurrentUrl() {
            addLog('å¼€å§‹éªŒè¯å½“å‰URLè·¯å¾„...', 'info');
            
            const currentUrl = window.location.href;
            const urlObj = new URL(currentUrl);
            
            // æ˜¾ç¤ºURLåˆ†æ
            displayUrlAnalysis(urlObj);
            
            // éªŒè¯å„ä¸ªéƒ¨åˆ†
            verifyProtocol(urlObj.protocol);
            verifyDomain(urlObj.hostname);
            verifyPort(urlObj.port);
            verifyPath(urlObj.pathname);
            
            // ç»¼åˆéªŒè¯ç»“æœ
            const hasAdminPath = urlObj.pathname.includes('/admin');
            const isValidAdminUrl = hasAdminPath && 
                                   (urlObj.protocol === 'http:' || urlObj.protocol === 'https:') &&
                                   urlObj.hostname === 'localhost';
            
            if (isValidAdminUrl) {
                updateResultStatus('urlPathStatus', 'éªŒè¯é€šè¿‡', 'success');
                updateResultStatus('redirectLogicStatus', 'æ­£å¸¸å·¥ä½œ', 'success');
                addLog('âœ… URLè·¯å¾„éªŒè¯é€šè¿‡ï¼åŒ…å«/adminè·¯å¾„æ ‡è¯†', 'success');
            } else if (hasAdminPath) {
                updateResultStatus('urlPathStatus', 'éƒ¨åˆ†é€šè¿‡', 'warning');
                updateResultStatus('redirectLogicStatus', 'éœ€æ£€æŸ¥', 'warning');
                addLog('âš ï¸ URLåŒ…å«/adminè·¯å¾„ï¼Œä½†å…¶ä»–éƒ¨åˆ†éœ€è¦æ£€æŸ¥', 'warning');
            } else {
                updateResultStatus('urlPathStatus', 'éªŒè¯å¤±è´¥', 'danger');
                updateResultStatus('redirectLogicStatus', 'å¼‚å¸¸', 'danger');
                addLog('âŒ URLè·¯å¾„éªŒè¯å¤±è´¥ï¼æœªåŒ…å«/adminè·¯å¾„æ ‡è¯†', 'error');
            }
            
            // ä¿å­˜éªŒè¯ç»“æœ
            verificationResults.push({
                timestamp: new Date(),
                url: currentUrl,
                hasAdminPath,
                isValid: isValidAdminUrl
            });
        }
        
        // æ˜¾ç¤ºURLåˆ†æ
        function displayUrlAnalysis(urlObj) {
            const urlDisplay = document.getElementById('currentUrl');
            urlDisplay.innerHTML = `
                <span class="url-part protocol">${urlObj.protocol}</span>//
                <span class="url-part domain">${urlObj.hostname}</span>
                <span class="url-part port">:${urlObj.port || '80'}</span>
                <span class="url-part path">${urlObj.pathname}</span>
                ${urlObj.search ? `<span class="url-part query">${urlObj.search}</span>` : ''}
                ${urlObj.hash ? `<span class="url-part hash">${urlObj.hash}</span>` : ''}
            `;
        }
        
        // éªŒè¯åè®®
        function verifyProtocol(protocol) {
            const isValid = protocol === 'http:' || protocol === 'https:';
            updateVerificationCard('protocolCard', 
                isValid ? 'âœ… æœ‰æ•ˆ' : 'âŒ æ— æ•ˆ',
                `åè®®: ${protocol}`,
                isValid ? 'success' : 'danger'
            );
            addLog(`åè®®éªŒè¯: ${protocol} - ${isValid ? 'é€šè¿‡' : 'å¤±è´¥'}`, isValid ? 'success' : 'error');
        }
        
        // éªŒè¯åŸŸå
        function verifyDomain(hostname) {
            const isValid = hostname === 'localhost' || hostname === '127.0.0.1';
            updateVerificationCard('domainCard',
                isValid ? 'âœ… æœ‰æ•ˆ' : 'âŒ æ— æ•ˆ',
                `åŸŸå: ${hostname}`,
                isValid ? 'success' : 'danger'
            );
            addLog(`åŸŸåéªŒè¯: ${hostname} - ${isValid ? 'é€šè¿‡' : 'å¤±è´¥'}`, isValid ? 'success' : 'error');
        }
        
        // éªŒè¯ç«¯å£
        function verifyPort(port) {
            const portNum = port || '80';
            const isValid = portNum === '5173' || portNum === '3000' || portNum === '8080';
            updateVerificationCard('portCard',
                isValid ? 'âœ… æœ‰æ•ˆ' : 'âš ï¸ æ£€æŸ¥',
                `ç«¯å£: ${portNum}`,
                isValid ? 'success' : 'warning'
            );
            addLog(`ç«¯å£éªŒè¯: ${portNum} - ${isValid ? 'é€šè¿‡' : 'éœ€æ£€æŸ¥'}`, isValid ? 'success' : 'warning');
        }
        
        // éªŒè¯è·¯å¾„
        function verifyPath(pathname) {
            const hasAdmin = pathname.includes('/admin');
            const isExactMatch = pathname === '/admin';
            const isAdminSubPath = pathname.startsWith('/admin/');
            
            let status, result, detail;
            
            if (isExactMatch) {
                status = 'success';
                result = 'âœ… å®Œå…¨åŒ¹é…';
                detail = 'è·¯å¾„: /admin (ç²¾ç¡®åŒ¹é…)';
                addLog(`è·¯å¾„éªŒè¯: ${pathname} - å®Œå…¨åŒ¹é…/adminè·¯å¾„`, 'success');
            } else if (isAdminSubPath) {
                status = 'success';
                result = 'âœ… å­è·¯å¾„åŒ¹é…';
                detail = `è·¯å¾„: ${pathname} (adminå­è·¯å¾„)`;
                addLog(`è·¯å¾„éªŒè¯: ${pathname} - åŒ¹é…/adminå­è·¯å¾„`, 'success');
            } else if (hasAdmin) {
                status = 'warning';
                result = 'âš ï¸ éƒ¨åˆ†åŒ¹é…';
                detail = `è·¯å¾„: ${pathname} (åŒ…å«admin)`;
                addLog(`è·¯å¾„éªŒè¯: ${pathname} - åŒ…å«adminä½†ä¸æ˜¯æ ‡å‡†è·¯å¾„`, 'warning');
            } else {
                status = 'danger';
                result = 'âŒ ä¸åŒ¹é…';
                detail = `è·¯å¾„: ${pathname} (ä¸åŒ…å«admin)`;
                addLog(`è·¯å¾„éªŒè¯: ${pathname} - ä¸åŒ…å«/adminè·¯å¾„`, 'error');
            }
            
            updateVerificationCard('pathCard', result, detail, status);
        }
        
        // æ¨¡æ‹Ÿç®¡ç†å‘˜ç™»å½•è·³è½¬
        function simulateAdminLogin() {
            addLog('æ¨¡æ‹Ÿç®¡ç†å‘˜ç™»å½•è·³è½¬æµç¨‹...', 'info');
            
            // æ¨¡æ‹Ÿç™»å½•æˆåŠŸåçš„è·³è½¬é€»è¾‘
            const targetUrl = `${window.location.origin}/admin`;
            addLog(`ç›®æ ‡è·³è½¬URL: ${targetUrl}`, 'info');
            
            // æ£€æŸ¥ç›®æ ‡URLæ˜¯å¦ç¬¦åˆè¦æ±‚
            const targetUrlObj = new URL(targetUrl);
            const hasAdminPath = targetUrlObj.pathname === '/admin';
            
            if (hasAdminPath) {
                addLog('âœ… è·³è½¬ç›®æ ‡URLéªŒè¯é€šè¿‡ï¼ŒåŒ…å«/adminè·¯å¾„', 'success');
                addLog('æ¨¡æ‹Ÿè·³è½¬: window.location.href = "/admin"', 'info');
                
                // å®é™…æ‰§è¡Œè·³è½¬ï¼ˆæ³¨é‡Šæ‰é¿å…çœŸå®è·³è½¬ï¼‰
                // window.location.href = '/admin';
                
                updateResultStatus('redirectLogicStatus', 'éªŒè¯é€šè¿‡', 'success');
            } else {
                addLog('âŒ è·³è½¬ç›®æ ‡URLéªŒè¯å¤±è´¥ï¼Œä¸åŒ…å«/adminè·¯å¾„', 'error');
                updateResultStatus('redirectLogicStatus', 'éªŒè¯å¤±è´¥', 'danger');
            }
        }
        
        // æµ‹è¯•URLæ¨¡å¼åŒ¹é…
        function testUrlPatterns() {
            addLog('å¼€å§‹æµ‹è¯•URLæ¨¡å¼åŒ¹é…...', 'info');
            
            const testUrls = [
                'http://localhost:5173/admin',
                'http://localhost:5173/admin/',
                'http://localhost:5173/admin/dashboard',
                'http://localhost:5173/admin/users',
                'http://localhost:5173/',
                'http://localhost:5173/login',
                'http://localhost:5173/user/profile'
            ];
            
            testUrls.forEach(url => {
                const urlObj = new URL(url);
                const hasAdminPath = urlObj.pathname.includes('/admin');
                const isValidAdminUrl = urlObj.pathname === '/admin' || urlObj.pathname.startsWith('/admin/');
                
                addLog(`æµ‹è¯•URL: ${url}`, 'info');
                addLog(`  - åŒ…å«/admin: ${hasAdminPath ? 'æ˜¯' : 'å¦'}`, hasAdminPath ? 'success' : 'warning');
                addLog(`  - æœ‰æ•ˆç®¡ç†å‘˜URL: ${isValidAdminUrl ? 'æ˜¯' : 'å¦'}`, isValidAdminUrl ? 'success' : 'warning');
            });
            
            addLog('URLæ¨¡å¼åŒ¹é…æµ‹è¯•å®Œæˆ', 'success');
        }
        
        // æ¸…é™¤ç»“æœ
        function clearResults() {
            verificationResults = [];
            
            // é‡ç½®éªŒè¯å¡ç‰‡
            ['protocolCard', 'domainCard', 'portCard', 'pathCard'].forEach(cardId => {
                const card = document.getElementById(cardId);
                card.className = 'verification-card';
                const resultElement = document.getElementById(cardId.replace('Card', 'Result'));
                resultElement.className = 'verification-result';
                resultElement.textContent = '--';
            });
            
            // é‡ç½®ç»“æœçŠ¶æ€
            updateResultStatus('urlPathStatus', 'æœªå¼€å§‹', 'warning');
            updateResultStatus('redirectLogicStatus', 'å¾…éªŒè¯', 'warning');
            
            // é‡ç½®URLæ˜¾ç¤º
            document.getElementById('currentUrl').textContent = 'æ­£åœ¨è·å–å½“å‰URL...';
            
            // æ¸…é™¤æ—¥å¿—
            document.getElementById('logContainer').innerHTML = `
                <div class="log-entry info">
                    <span class="timestamp">[ç³»ç»Ÿ]</span> URLè·¯å¾„éªŒè¯å·¥å…·å·²é‡ç½®ï¼Œç­‰å¾…å¼€å§‹éªŒè¯...
                </div>
            `;
            
            addLog('éªŒè¯ç»“æœå·²æ¸…é™¤', 'info');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            addLog('URLè·¯å¾„éªŒè¯å·¥å…·åˆå§‹åŒ–å®Œæˆ', 'success');
            addLog('ç‚¹å‡»"éªŒè¯å½“å‰URL"æŒ‰é’®å¼€å§‹éªŒè¯ç®¡ç†å‘˜URLè·¯å¾„', 'info');
            
            // è‡ªåŠ¨æ˜¾ç¤ºå½“å‰URL
            setTimeout(() => {
                const currentUrl = window.location.href;
                const urlObj = new URL(currentUrl);
                displayUrlAnalysis(urlObj);
                addLog(`å½“å‰é¡µé¢URL: ${currentUrl}`, 'info');
            }, 500);
        });
    </script>
</body>
</html>